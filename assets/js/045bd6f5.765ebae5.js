"use strict";(self.webpackChunkidearium_lib_docs=self.webpackChunkidearium_lib_docs||[]).push([[314],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),p=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(c.Provider,{value:t},e.children)},d="mdxType",s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},y=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=p(n),y=a,m=d["".concat(c,".").concat(y)]||d[y]||s[y]||i;return n?r.createElement(m,o(o({ref:t},u),{},{components:n})):r.createElement(m,o({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=y;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[d]="string"==typeof e?e:a,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}y.displayName="MDXCreateElement"},4463:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return o},default:function(){return s},frontMatter:function(){return i},metadata:function(){return l},toc:function(){return p}});var r=n(3117),a=(n(7294),n(3905));const i={id:"encryption",title:"@idearium/encryption"},o=void 0,l={unversionedId:"encryption",id:"encryption",title:"@idearium/encryption",description:"A library to make encrypting and decrypting plain text in Node.js painless.",source:"@site/docs/encryption.md",sourceDirName:".",slug:"/encryption",permalink:"/idearium-lib/docs/encryption",draft:!1,editUrl:"https://github.com/idearium/idearium-lib/tree/master/docusaurus/docs/encryption.md",tags:[],version:"current",frontMatter:{id:"encryption",title:"@idearium/encryption"},sidebar:"sidebar",previous:{title:"@idearium/cookie",permalink:"/idearium-lib/docs/cookie"},next:{title:"@idearium/fetch",permalink:"/idearium-lib/docs/fetch"}},c={},p=[{value:"Installation",id:"installation",level:2},{value:"Beta installation",id:"beta-installation",level:3},{value:"Usage",id:"usage",level:2},{value:"Create a library file",id:"create-a-library-file",level:3},{value:"Use the library file",id:"use-the-library-file",level:3},{value:"Advanced usage",id:"advanced-usage",level:2},{value:"Encryption algorithms",id:"encryption-algorithms",level:3},{value:"Use <code>decrypt</code> and <code>encrypt</code> directly",id:"use-decrypt-and-encrypt-directly",level:2},{value:"Change the input and output encoding types",id:"change-the-input-and-output-encoding-types",level:2}],u={toc:p},d="wrapper";function s(e){let{components:t,...n}=e;return(0,a.kt)(d,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"A library to make encrypting and decrypting plain text in Node.js painless."),(0,a.kt)("h2",{id:"installation"},"Installation"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"$ yarn add -E @idearium/encryption\n")),(0,a.kt)("h3",{id:"beta-installation"},"Beta installation"),(0,a.kt)("p",null,"If you need to install a beta version, you can:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"$ yarn add -E @idearium/encryption@beta\n")),(0,a.kt)("h2",{id:"usage"},"Usage"),(0,a.kt)("p",null,"To use ",(0,a.kt)("inlineCode",{parentName:"p"},"@idearium/encryption"),", follow these steps:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#create-a-library-file"},"Create a library file.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#use-the-library-file"},"Use the library file within your app."))),(0,a.kt)("h3",{id:"create-a-library-file"},"Create a library file"),(0,a.kt)("p",null,"Start by creating a library file which you'll export the functions generated by ",(0,a.kt)("inlineCode",{parentName:"p"},"atomic")," and use these within your application."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-JavaScript"},"// lib/encryption.js\n\nimport { atomic } from '@idearium/encryption';\n\nconst iv = '6iz68yjtmVj&r7$H';\nconst key = 'AsRdgU=cwnu8BCXNpgV2gAQk8XL;4oTW';\n\nexport const {decrypt, encrypt} = atomic({ iv, key });\n\n")),(0,a.kt)("h3",{id:"use-the-library-file"},"Use the library file"),(0,a.kt)("p",null,"Now you can use the library file you've created to actually encrypt and decrypt information in your app."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-JavaScript"},"// another-file.js\n\nimport assert from 'assert';\nimport {decrypt, encrypt} from './lib/encryption.js';\n\nconst text = 'Some text;\nconst encrypted = encrypt({ text });\nconst decrypted = decrypt({ text: encrypted });\n\nconst matches = assert.equal(text, decrypted);\n")),(0,a.kt)("h2",{id:"advanced-usage"},"Advanced usage"),(0,a.kt)("p",null,"This library also allows you to do the following:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Change the encryption algorithm."),(0,a.kt)("li",{parentName:"ul"},"Directly use the ",(0,a.kt)("inlineCode",{parentName:"li"},"encrypt")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"decrypt")," functions exported by the library."),(0,a.kt)("li",{parentName:"ul"},"Change the input and output encoding types.")),(0,a.kt)("h3",{id:"encryption-algorithms"},"Encryption algorithms"),(0,a.kt)("p",null,"By default, this library uses the ",(0,a.kt)("inlineCode",{parentName:"p"},"aes-256-ctr")," algorithm. However, you can use any encryption algorithm supported by Node.js:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-JavaScript"},"// lib/encryption.js\n\nimport { atomic } from '@idearium/encryption';\n\nconst algorithm = 'aes-256-cbc';\nconst iv = '6iz68yjtmVj&r7$H';\nconst key = 'AsRdgU=cwnu8BCXNpgV2gAQk8XL;4oTW';\n\nexport const {decrypt, encrypt} = atomic({ algorithm, iv, key });\n\n")),(0,a.kt)("p",null,"Some algorithm's such as ",(0,a.kt)("inlineCode",{parentName:"p"},"rc4")," don't require an IV, in which case you can pass ",(0,a.kt)("inlineCode",{parentName:"p"},"null"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-JavaScript"},"\nexport default atomic({\n    algorithm: 'rc4',\n    iv: null,\n    key: 'Z4nDPfxKjPGGCqA2wVKjMMB{nyL^ytWNbWyzLg4xbvxX6ioxvxRw'\n});\n\n")),(0,a.kt)("h2",{id:"use-decrypt-and-encrypt-directly"},"Use ",(0,a.kt)("inlineCode",{parentName:"h2"},"decrypt")," and ",(0,a.kt)("inlineCode",{parentName:"h2"},"encrypt")," directly"),(0,a.kt)("p",null,"The examples above show how to use the library with ",(0,a.kt)("inlineCode",{parentName:"p"},"atomic")," which returns an object with keys ",(0,a.kt)("inlineCode",{parentName:"p"},"decrypt")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"encrypt"),". These keys contain functions which are bound to the same ",(0,a.kt)("inlineCode",{parentName:"p"},"algorithm"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"iv")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"key")," values provided to ",(0,a.kt)("inlineCode",{parentName:"p"},"atomic"),". This makes it easy to encrypt and decrypt using the same settings."),(0,a.kt)("p",null,"However, there are some instances in which you might only want to encrypt or decrypt some text (for example, encrypting a value to send to a third party). In this instance you can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"decrypt")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"encrypt")," functions exported by the library:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-JavaScript"},"\nimport { encrypt } from `@idearium/encryption`;\n\nexport default ({ algorithm = 'rc4',\n    iv = null,\n    key = 'Z4nDPfxKjPGGCqA2wVKjMMB{nyL^ytWNbWyzLg4xbvxX6ioxvxRw' } = {}) =>\n        encrypt({ algorithm, iv, key });\n\n")),(0,a.kt)("h2",{id:"change-the-input-and-output-encoding-types"},"Change the input and output encoding types"),(0,a.kt)("p",null,"The input and output encoding types can also be changed, you might need this if you want to integrate with an existing library that has it's own crypto functions."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"export default atomic({\n    ...\n    decryptInputEncoding: 'hex',\n    decryptOutputEncoding: 'utf8',\n    encryptInputEncoding: 'utf8',\n    encryptOutputEncoding: 'hex',\n});\n\n// or\n\nexport default decrypt({\n    ...\n    inputEncoding: 'hex',\n    outputEncoding: 'utf8',\n});\n\nexport default encrypt({\n    ...\n    inputEncoding: 'utf8',\n    outputEncoding: 'hex',\n});\n")))}s.isMDXComponent=!0}}]);